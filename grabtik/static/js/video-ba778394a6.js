function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var VideoPlay=function(){"use strict";function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){var i=this,e=$("video");e.on("pause",function(e){i.ManualCtl(e.currentTarget)}),e.on("play",function(e){i.ManualCtl(e.currentTarget)}),e.click(function(){null==this.getAttribute("controls",null)&&this[this.paused?"play":"pause"]()}),$(document).ready(function(){i.checkMedia()}),$(document).scroll(function(){i.checkMedia()})}},{key:"getVisibleInfo",value:function(e){var i=window.innerHeight||document.documentElement.clientHeight,t=window.innerWidth||document.documentElement.clientWidth,n=e.getBoundingClientRect(),a=0<n.left?n.left:0,l=n.right>t?t:n.right,o=0<n.top?n.top:0,u=n.bottom>i?i:n.bottom;return{visibleLeft:a,visibleRight:l,visibleTop:o,visibleBottom:u,visibleWidth:l-a,visibleHeight:u-o,winWidth:t,winHeight:i}}},{key:"ManualCtl",value:function(e){e.jsCtl?(e.jsCtl=!1,e.manual&&(e.manual=!1)):e.paused?e.manual=!0:e.manual&&(e.manual=!1)}},{key:"videoPlayPause",value:function(e,i){e.paused?i&&(e.jsCtl=!0,e.play()):i||(e.jsCtl=!0,e.pause())}},{key:"checkMedia",value:function(){var n=this;$("video").each(function(e,i){if(!i.manual){var t=n.getVisibleInfo(i);t.visibleWidth<=0||t.visibleHeight<=0?n.videoPlayPause(i,!1):t.winHeight/2>t.visibleTop&&t.winHeight/2<t.visibleBottom?n.videoPlayPause(i,!0):n.videoPlayPause(i,!1)}})}}]),e}(),vp=new VideoPlay;